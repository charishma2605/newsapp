<div class="page">
  <header class="header">
    <h1 class="title">Hacker News — Newest</h1>

    <div class="controls">
      <input
        class="search"
        [formControl]="searchCtrl"
        type="text"
        placeholder="Search by title..."
        aria-label="Search by title"
      />

      <label class="page-size">
        Page size
        <select
          [value]="pageSize()"
          (change)="onChangePageSize($any($event.target).value)"
        >
          <option>10</option>
          <option>20</option>
          <option>50</option>
          <option>100</option>
        </select>
      </label>
    </div>
  </header>

  <section class="card">
    <div class="status" *ngIf="loading()">Loading…</div>
    <div class="status error" *ngIf="!loading() && error()">{{ error() }}</div>
    <div class="status" *ngIf="!loading() && !error() && items().length === 0">
      No results.
    </div>

    <table class="table" *ngIf="!loading() && !error() && items().length">
      <thead>
        <tr>
          <th>Title</th>
          <th style="width: 100px">Link</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let s of items(); trackBy: trackId">
          <td class="title-cell">
            <span>{{ s.title }}</span>
          </td>

          <td>
            <div *ngIf="s.url">
              <a [href]="s.url" target="_blank" rel="noopener noreferrer"
                >open</a
              >
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="pager" *ngIf="!loading() && total() > 0">
      <div class="count">
        Page {{ page() }} / {{ totalPages() }} • Total {{ total() | number }}
      </div>
      <div class="buttons">
        <button (click)="goFirst()" [disabled]="page() === 1">« First</button>
        <button (click)="goPrev()" [disabled]="page() === 1">‹ Prev</button>
        <button (click)="goNext()" [disabled]="page() >= totalPages()">
          Next ›
        </button>
        <button (click)="goLast()" [disabled]="page() >= totalPages()">
          Last »
        </button>
      </div>
    </div>
  </section>
</div>
